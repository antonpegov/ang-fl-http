{"version":3,"sources":["webpack:///./src/app/app-message.component.ts","webpack:///./src/app/character/character/character.component.ts","webpack:///./src/app/vehicle/vehicle/vehicle.component.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.mocks.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/character/character-routing.module.ts","webpack:///./src/app/character/character.module.ts","webpack:///./src/app/not-found.component.ts","webpack:///./src/app/vehicle/vehicle-routing.module.ts","webpack:///./src/app/vehicle/vehicle.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/character/character-list/character-list.component.html","webpack:///./src/app/character/character/character.component.html","webpack:///./src/app/vehicle/vehicle-list/vehicle-list.component.html","webpack:///./src/app/vehicle/vehicle/vehicle.component.html","webpack:///./src/app/app.state.ts","webpack:///./src/app/character/character-list/character-list.component.ts","webpack:///./src/app/character/character.reducer.ts","webpack:///./src/app/character/character.service.ts","webpack:///./src/app/vehicle/vehicle-list/vehicle-list.component.ts","webpack:///./src/app/vehicle/vehicle.reducer.ts","webpack:///./src/app/vehicle/vehicle.service.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-app-message',\n  template: `\n    <p>\n      app-message Works!\n    </p>\n  `,\n  styles: []\n})\nexport class AppMessageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app-message.component.ts","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, Params } from \"@angular/router\";\nimport { CharacterService, Character } from \"../character.service\";\nimport { Store } from \"app/app.state\";\nimport { INIT_CHARACTERS, ADD_CHARACTER, REMOVE_CHARACTER, UPDATE_CHARACTER  } from \"../character.reducer\";\nimport { MdSelect, MdOption, MdButton } from \"@angular/material\";\nimport { Observable } from \"rxjs/Observable\";\n\n@Component({\n  selector: 'app-character',\n  templateUrl: './character.component.html',\n  //styleUrls: ['./character.component.css']\n})\nexport class CharacterComponent implements OnInit {\n\n  private character: Character;                 // Выбранный персонаж \n  private characters: Observable<Character[]>;  // Залочено на стрим в Store\n  private viewReady: boolean = true;            // Флаг для задержки рендеринга\n  private newCharacter: boolean = true;\n  private id: number;   // Id персонажа, переданный через параметр в url\n\n  constructor(\n    private _route: ActivatedRoute,\n    private _router: Router,\n    private _characterService: CharacterService,\n    private _store: Store<Character[]>\n  ) {\n    this.characters = _store.select('characters');\n  }\n\n  ngOnInit() {debugger\n    console.log(MdButton);\n\n    this.id = this._route.snapshot.params.id ? Number(this._route.snapshot.params.id) : null;\n    if(this.id){\n      this.newCharacter = false;\n      // Проверить, загружены ли данные\n      if(this._characterService.dataIsLoaded){\n        this.getCharacter(this.id).subscribe(c => this.character = c);\n      } else {  \n        // Заблокировать вью, загрузить данные и выбрать из них подходящий персонаж\n        this.viewReady = false;\n        this._characterService.getCharacters().subscribe(characters => {\n          this._store.dispatch({type: INIT_CHARACTERS, payload: characters});\n          this.characters.subscribe(characters => {\n            this.character = characters.find(item => item.id === this.id);\n            this.viewReady = true;\n          })\n        });\n      }\n    } else {\n      // id пустой, нужно создать новый объект  \n      this._characterService.dataIsLoaded ?\n        (function(self){self.character = new Character(self.getLastCharacterId()+1, '')})(this) :\n        this._router.navigate(['/characters']);      \n    }\n  }\n\n  private createCharacter() : void {\n    this._store.dispatch({type: ADD_CHARACTER, payload: this.character});\n    this.navToCharacterList();\n  }\n  private updateCharacter(): void {\n    this._store.dispatch({type: UPDATE_CHARACTER, payload: this.character});\n    this.navToCharacterList();\n  }\n  private deleteCharacter(): void {\n    this._store.dispatch({type: REMOVE_CHARACTER, payload: this.character});\n    this.navToCharacterList(true);\n  }\n\n  private getCharacter(id: number): Observable<Character> {\n    return this.characters.map(characters => characters.find(c => c.id == id))\n  }\n\n  private getLastCharacterId(){\n    let id: number;\n    this.characters.subscribe((c:Character[]) => id = c[c.length-1].id);\n    return id;\n  }\n\n  private navToCharacterList(toRoot?: boolean): void {\n    this._router.navigate(['/characters', { id: toRoot ? null : this.id}]);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/character/character/character.component.ts","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Vehicle, VehicleService } from '../vehicle.service';\r\nimport { Router, ActivatedRoute, Params } from \"@angular/router\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { INIT_VEHICLES, ADD_VEHICLE, REMOVE_VEHICLE, UPDATE_VEHICLE } from '../vehicle.reducer';\r\nimport { AppState } from \"app/app.state\";\r\n\r\n@Component({\r\n  selector: 'app-vehicle',\r\n  templateUrl: './vehicle.component.html',\r\n  //styleUrls: ['./vehicle.component.css'],\r\n})\r\nexport class VehicleComponent implements OnInit {\r\n  \r\n  private vehicle: Vehicle// = new Vehicle(1,'asd'); \r\n  private vehicles: Observable<Vehicle[]>;\r\n  private newVehicle: boolean = true;\r\n  private viewReady: boolean = true;  // Костыль для задержки рендеринга в случае загрузки данных\r\n\r\n  constructor(\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    private _vehicleService: VehicleService,\r\n    private _store: Store<AppState>\r\n  ) {\r\n    this.vehicles = _store.select('vehicles');\r\n  }\r\n  \r\n  ngOnInit() {\r\n    let id = this._route.snapshot.params.id ? this._route.snapshot.params.id : null;\r\n    if(id){ \r\n      // Передан id, работа с существующим объектом     \r\n      this.newVehicle = false;     \r\n      // Если не были загружены данные, загрузить \r\n      if (this._vehicleService.dataIsLoaded){ \r\n        this.vehicles.subscribe(vehicles => \r\n          this.vehicle = vehicles.find(item => item.id === Number(id))\r\n        );\r\n      } else {\r\n        this.viewReady = false;\r\n        this._vehicleService.getVehicles().subscribe(vehicles => {\r\n          this._store.dispatch({type: INIT_VEHICLES, payload: vehicles});   \r\n          this.vehicles.subscribe(vehicles => {\r\n            this.vehicle = vehicles.find(item => item.id === Number(id))\r\n            this.viewReady = true;\r\n          }); \r\n        })\r\n      }   \r\n    } else { \r\n      // id пустой, нужно создать новый объект  \r\n      if (this._vehicleService.dataIsLoaded){\r\n        this.vehicle = new Vehicle(this.getLastVehicleId()+1, '');      \r\n      } else {\r\n        this.viewReady = false;\r\n        // TODO: отработать кейс обновления страницы (данных нет)\r\n        this._router.navigate(['/vehicles']);\r\n      }   \r\n    }\r\n  }  \r\n\r\n  private createVehicle(){\r\n    this._store.dispatch({ type: ADD_VEHICLE, payload: this.vehicle });\r\n    this.navToVehicleList();\r\n  }\r\n\r\n  private updateVehicle(){\r\n    this._store.dispatch({ type: UPDATE_VEHICLE, payload: this.vehicle });\r\n    this.navToVehicleList();\r\n  }\r\n\r\n  private deleteVehicle(){\r\n    this._store.dispatch({ type: REMOVE_VEHICLE, payload: this.vehicle });\r\n    this.navToVehicleList(true);\r\n  }\r\n\r\n  private getLastVehicleId(){\r\n    let id: number;\r\n    this.vehicles.subscribe( vehicles => \r\n      id = vehicles[vehicles.length-1].id\r\n    )\r\n    return id;\r\n  }\r\n  private navToVehicleList(toRoot?: boolean){\r\n    this._router.navigate(['/vehicles', { id: toRoot ? null : this.vehicle.id }]);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/vehicle/vehicle/vehicle.component.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 172;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 172\n// module chunks = 1","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CharacterListComponent } from \"./character/character-list/character-list.component\";\nimport { VehicleListComponent } from \"./vehicle/vehicle-list/vehicle-list.component\";\nimport { VehicleComponent } from \"./vehicle/vehicle/vehicle.component\";\nimport { PageNotFoundComponent } from \"./not-found.component\";\nimport { AppMessageComponent } from \"app/app-message.component\";\n\nconst appRoutes: Routes = [\n  { path: 'vehicles', component: VehicleListComponent },\n  { path: 'characters', component: CharacterListComponent },\n  { path: '', redirectTo: 'vehicles', pathMatch: 'full' },\n  { path: 'compose', component: AppMessageComponent, outlet: 'popup' } \n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(appRoutes)],\n  exports: [RouterModule],\n  declarations: [PageNotFoundComponent]\n})\n\nexport class AppRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app-routing.module.ts","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  // styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'app works!';\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export class AppMocks {\r\n    public static readonly VEHICLES_API = {\r\n        data: [\r\n            { id: 30, name: \"Millennium Falcon\", type: \"space\" },\r\n            { id: 31, name: \"Y-Wing Fighter\", type: \"space\" },\r\n            { id: 32, name: \"X-Wing Fighter\", type: \"space\" }\r\n        ]\r\n    }\r\n    public static readonly CHARACTER_API = {\r\n        data: [\r\n            { id: 11, name: \"Chewbacca\", side: \"light\" },\r\n            { id: 12, name: \"Rey\", side: \"light\" },\r\n            { id: 13, name: \"Finn (FN2187)\", side: \"light\" }\r\n        ]\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.mocks.ts","import 'hammerjs';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpModule } from '@angular/http';\r\nimport { VehicleModule } from \"./vehicle/vehicle.module\";\r\nimport { AppComponent } from './app.component';\r\nimport { AppRoutingModule } from \"app/app-routing.module\";\r\nimport { CharacterModule } from \"app/character/character.module\";\r\nimport { AppMessageComponent } from './app-message.component';\r\n//import { StoreModule, reducer } from \"./app.state\";\r\nimport { StoreModule } from \"./app.state\";\r\nimport { vehiclesReducer } from \"app/vehicle/vehicle.reducer\";\r\nimport { characterReducer } from \"app/character/character.reducer\";\r\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\r\nimport { MdButtonModule, MdCheckboxModule } from '@angular/material';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    AppMessageComponent,\r\n  ],\r\n  imports: [\r\n    MdButtonModule, MdCheckboxModule,\r\n    //StoreModule.provideStore(reducer),\r\n    StoreModule.provideStore({\r\n        vehicles: vehiclesReducer, \r\n        characters: characterReducer\r\n        /* more reducers here... */ \r\n    }),\r\n    BrowserAnimationsModule,\r\n    BrowserModule,\r\n    FormsModule,\r\n    HttpModule,\r\n    AppRoutingModule,\r\n    VehicleModule,\r\n    CharacterModule\r\n  ],\r\n  providers: [ ],\r\n  exports: [ ],\r\n  bootstrap: [ AppComponent ]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from \"@angular/router\";\nimport { CharacterComponent } from \"./character/character.component\";\nimport { CharacterListComponent } from \"./character-list/character-list.component\";\n\nconst characterRoutes = [\n  { path: 'characters', component: CharacterListComponent },\n  { path: 'character/:id', component: CharacterComponent },\n  { path: 'character', component: CharacterComponent }\n]\n\n@NgModule({\n  imports: [ RouterModule.forChild(characterRoutes) ],\n  exports: [ RouterModule ]\n})\nexport class CharacterRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/character/character-routing.module.ts","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { CharacterRoutingModule } from \"./character-routing.module\";\nimport { CharacterComponent } from './character/character.component';\nimport { CharacterListComponent } from './character-list/character-list.component';\nimport { CharacterService} from \"app/character/character.service\";\n\n@NgModule({\n  imports: [\n    FormsModule,\n    CommonModule,\n    CharacterRoutingModule\n  ],\n  providers:[CharacterService],\n  declarations: [CharacterListComponent, CharacterComponent],\n  exports: [\n    CharacterListComponent\n  ]\n})\nexport class CharacterModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/character/character.module.ts","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  template: '<h2>Page not found</h2>'\r\n})\r\nexport class PageNotFoundComponent {}\r\n\r\n\r\n/*\r\nCopyright 2017 Google Inc. All Rights Reserved.\r\nUse of this source code is governed by an MIT-style license that\r\ncan be found in the LICENSE file at http://angular.io/license\r\n*/\n\n\n// WEBPACK FOOTER //\n// ./src/app/not-found.component.ts","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from \"@angular/router\";\nimport { VehicleComponent } from \"./vehicle/vehicle.component\";\nimport { VehicleListComponent } from \"./vehicle-list/vehicle-list.component\";\n//import { PageNotFoundComponent } from \"../not-found.component\";\n\nconst vehicleRoutes = [\n  { path: 'vehicles', component: VehicleListComponent },\n  { path: 'vehicle/:id', component: VehicleComponent },\n  { path: 'vehicle', component: VehicleComponent },\n  //{ path: '**', component: PageNotFoundComponent }, //перебивает вложенные роуты\n]\n\n@NgModule({\n  imports: [ RouterModule.forChild(vehicleRoutes) ],\n  exports:[ RouterModule ],\n})\nexport class VehicleRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/vehicle/vehicle-routing.module.ts","import { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { VehicleRoutingModule } from \"./vehicle-routing.module\";\r\nimport { VehicleComponent } from './vehicle/vehicle.component';\r\nimport { VehicleListComponent } from './vehicle-list/vehicle-list.component';\r\nimport { VehicleService } from './vehicle.service';\r\n\r\n@NgModule({\r\n  providers:[ VehicleService ],\r\n  imports: [\r\n    FormsModule,\r\n    CommonModule,\r\n    VehicleRoutingModule\r\n  ],\r\n  declarations: [ VehicleComponent, VehicleListComponent ],\r\n  exports: [ VehicleListComponent]\r\n})\r\nexport class VehicleModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/vehicle/vehicle.module.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","module.exports = \"<header>\\r\\n    <h1 style=\\\"display: none;\\\">{{title}}</h1>    \\r\\n    <nav>\\r\\n        <a href=\\\"\\\" routerLink=\\\"/vehicles\\\" routerLinkActive=\\\"active\\\">Vehicles</a>\\r\\n        <a href=\\\"\\\" routerLink=\\\"/characters\\\" routerLinkActive=\\\"active\\\">Characters</a>\\r\\n        <a href=\\\"\\\" routerLink=\\\"/login\\\" routerLinkActive=\\\"active\\\">Login/Logout</a>\\r\\n    </nav>\\r\\n</header>\\r\\n<main>\\r\\n    <section>\\r\\n        <router-outlet></router-outlet>\\r\\n    </section>\\r\\n    <section>\\r\\n        <router-outlet name=\\\"popup\\\"></router-outlet>\\r\\n    </section>\\r\\n</main>\\r\\n<!--<app-vehicle-list></app-vehicle-list>-->\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 251\n// module chunks = 1","module.exports = \"<article>\\n  <h4>CHARACTERS <span class='add_button' (click)=\\\"newCharacter()\\\">add new</span></h4>\\n\\n  <ul class=\\\"items\\\">\\n    <li *ngFor=\\\"let character of characters | async\\\"\\n      [class.selected]=\\\"isSelected(character)\\\"\\n      (click)=\\\"selectCharacter(character)\\\">\\n      <span class=\\\"badge\\\">\\n        {{ character.id }}\\n      </span>\\n      {{character.name}}\\n      <span class = \\\"status\\\" \\n          (click) = \\\"character.vehicle ? openVehicle(character) : null\\\"\\n          title = \\\"{{character.vehicle ? 'Click to open Vehicle' : 'Character has no vehicle' }}\\\">\\n      </span> \\n    </li>\\n  </ul>\\n\\n  <div class=\\\"error\\\" *ngIf=\\\"errorMessage\\\">{{errorMessage}}</div>\\n\\n</article>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/character/character-list/character-list.component.html\n// module id = 252\n// module chunks = 1","module.exports = \"<h4>CHARACTERS</h4>\\n<div *ngIf=\\\"newCharacter; then addCharacterBlock; else editCharacterBlock\\\"></div>\\n\\n<ng-template #editCharacterBlock>\\n  <div *ngIf=\\\"viewReady\\\">\\n    <h3>{{ character.name }}</h3>\\n    <div>\\n      <label>Id: </label>{{ character.id }}</div>\\n    <div>\\n      <label>Name: </label>\\n      <input [(ngModel)]=\\\"character.name\\\" placeholder=\\\"name\\\" />\\n    </div>\\n    <p>\\n      <button (click)=\\\"updateCharacter()\\\">Back</button>\\n      <button class=\\\"abort\\\" (click)=\\\"deleteCharacter()\\\">Remove</button>\\n    </p>\\n  </div>\\n</ng-template>\\n\\n<ng-template #addCharacterBlock>\\n  <div *ngIf=\\\"viewReady\\\">\\n    <h3>Add new character</h3>\\n    <div>\\n      <label>Id: </label>{{ character.id }}</div>\\n    <div>\\n      <label>Name: </label>\\n      <input [(ngModel)]=\\\"character.name\\\" placeholder=\\\"name\\\" />\\n    </div>\\n    <div>\\n      <md-button href=\\\"url\\\"\\n                 id=\\\"button-id\\\"\\n                 class=\\\"button-class|md-primary\\\"\\n                 ng-disabled=\\\"true\\\"\\n                 md-ripple-size=\\\"full | partial | auto\\\"\\n                 md-no-ink=\\\"true\\\"\\n                 aria-label=\\\"button-label\\\"> button-label </md-button>\\n      <!--<md-select placeholder=\\\"vehicle\\\" [(ngModel)]=\\\"character.vehicle\\\">\\n        <md-option *ngFor=\\\"let vehicle of freeVehicles | async\\\">\\n          {{vehicle.name}}\\n        </md-option>\\n      </md-select>-->\\n    </div>\\n    <p>\\n      <button (click)=\\\"navToCharacterList(true)\\\">Cancel</button>\\n      <button class=\\\"apply\\\" \\n          (click)=\\\"createCharacter()\\\" \\n          [disabled]=\\\"!character.name || character.name.length == 0\\\">Save</button>\\n    </p>\\n  </div>\\n</ng-template>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/character/character/character.component.html\n// module id = 253\n// module chunks = 1","module.exports = \"<article>\\r\\n  <h4>VEHICLES <span class='add_button' (click)=\\\"newVehicle()\\\">add new</span></h4>\\r\\n\\r\\n  <ul class=\\\"items\\\">\\r\\n    <li *ngFor=\\\"let vehicle of vehicles | async\\\"\\r\\n      [class.selected]=\\\"isSelected(vehicle)\\\" \\r\\n      (click)=\\\"selectVehicle(vehicle)\\\">\\r\\n      <span class=\\\"badge\\\">{{ vehicle.id }}</span> \\r\\n      {{ vehicle.name }}\\r\\n      <span class = \\\"status\\\" \\r\\n        [class.ascribed] = \\\"vehicle.characterId\\\"\\r\\n        (click) = \\\"vehicle.characterId ? openCharacter(vehicle.characterId) : null\\\"\\r\\n        title = \\\"{{vehicle.characterId ? 'Click to open Character' : 'Vehicle is avalable' }}\\\">\\r\\n        {{ vehicle.characterId ? 'Ascribed' : 'Avalable'}}\\r\\n      </span> \\r\\n    </li>\\r\\n  </ul>\\r\\n\\r\\n  <div class=\\\"error\\\" *ngIf=\\\"errorMessage\\\">{{errorMessage}}</div>\\r\\n\\r\\n  <!--<app-vehicle *ngIf=\\\"selectedVehicle\\\" [vehicle]=\\\"selectedVehicle\\\"></app-vehicle>-->\\r\\n</article>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/vehicle/vehicle-list/vehicle-list.component.html\n// module id = 254\n// module chunks = 1","module.exports = \"<h4>VEHICLES</h4>\\r\\n\\r\\n<div *ngIf=\\\"newVehicle; then addVehicleBlock; else editVehicleBlock\\\"></div>\\r\\n\\r\\n<ng-template #editVehicleBlock>\\r\\n  <div *ngIf=\\\"viewReady\\\">\\r\\n    <h3>{{ vehicle.name }}</h3>\\r\\n    <div>\\r\\n      <label>Id: </label>{{ vehicle.id }}</div>\\r\\n    <div>\\r\\n      <label>Name: </label>\\r\\n      <input [(ngModel)]=\\\"vehicle.name\\\" placeholder=\\\"name\\\" />\\r\\n    </div>\\r\\n    <p>\\r\\n      <button (click)=\\\"updateVehicle()\\\">Back</button>\\r\\n      <button class=\\\"abort\\\" (click)=\\\"deleteVehicle()\\\">Remove</button>\\r\\n    </p>\\r\\n  </div>\\r\\n</ng-template>\\r\\n\\r\\n<ng-template #addVehicleBlock>\\r\\n  <div *ngIf=\\\"viewReady\\\">\\r\\n    <h3>Add new vehicle</h3>\\r\\n    <div>\\r\\n      <label>Id: </label>\\r\\n      {{ vehicle.id }}\\r\\n    </div>\\r\\n    <div>\\r\\n      <label>Name: </label>\\r\\n      <input [(ngModel)]=\\\"vehicle.name\\\" placeholder=\\\"name\\\" />\\r\\n    </div>\\r\\n    <p>\\r\\n      <button (click)=\\\"navToVehicleList(true)\\\">Cancel</button>\\r\\n      <button class=\\\"apply\\\" (click)=\\\"createVehicle()\\\" [disabled]=\\\"!vehicle.name || vehicle.name.length == 0\\\">Save</button>\\r\\n    </p>\\r\\n  </div>\\r\\n</ng-template>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/vehicle/vehicle/vehicle.component.html\n// module id = 255\n// module chunks = 1","\r\nimport { Vehicle } from \"./vehicle/vehicle.service\";\r\nimport { Character } from \"./character/character.service\";\r\nimport { vehiclesReducer } from \"./vehicle/vehicle.reducer\";\r\nimport { characterReducer } from \"./character/character.reducer\";\r\nimport * as store from '@ngrx/store';\r\nexport * from '@ngrx/store';\r\n/**\r\n * The compose function is one of our most handy tools. In basic terms, you give\r\n * it any number of functions and it returns a function. This new function\r\n * takes a value and chains it through every composed function, returning\r\n * the output.\r\n *\r\n * More: https://drboolean.gitbooks.io/mostly-adequate-guide/content/ch5.html\r\n */\r\nimport { compose } from '@ngrx/core/compose';\r\n/**\r\n * storeFreeze prevents state from being mutated. When mutation occurs, an\r\n * exception will be thrown. This is useful during development mode to\r\n * ensure that none of the reducers accidentally mutates the state.\r\n */\r\n//import { storeFreeze } from 'ngrx-store-freeze'; конфликт версий\r\n/**\r\n * combineReducers is another useful metareducer that takes a map of reducer\r\n * functions and creates a new reducer that gathers the values\r\n * of each reducer and stores them using the reducer's key. Think of it\r\n * almost like a database, where every reducer is a table in the db.\r\n *\r\n * More: https://egghead.io/lessons/javascript-redux-implementing-combinereducers-from-scratch\r\n */\r\nimport { combineReducers } from '@ngrx/store';\r\n\r\nexport interface AppState {\r\n  vehicles: Vehicle[];\r\n  characters: Character[];\r\n}\r\n\r\n// export function reducer(state: any, action: any){\r\n//     return combineReducers({\r\n//         vehicles: vehiclesReducer,\r\n//         characters: characterReducer\r\n//         /* more reducers here... */\r\n//     })\r\n// }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.state.ts","import { Component, OnInit } from '@angular/core';\nimport { Observable } from \"rxjs/Observable\";\nimport { CharacterService, Character } from \"../character.service\";\nimport { Router, Params, ActivatedRoute } from \"@angular/router\";\nimport { Store } from \"../../app.state\";\nimport { INIT_CHARACTERS } from \"../character.reducer\";\n\n@Component({\n  selector: 'app-character-list',\n  templateUrl: './character-list.component.html',\n  //styleUrls: ['./character-list.component.css']\n})\nexport class CharacterListComponent implements OnInit {\n\n  private errorMessage: \"not Initilized\";\n  private selectedCharacter: Character;\n  private selectedId: number;\n  private characters: Observable<Character[]>;\n\n  constructor(\n    private _characterService: CharacterService,\n    private _router: Router,\n    private _route: ActivatedRoute,\n    private _store: Store<Character[]>\n  ) {\n    this.characters = _store.select('characters');\n  }\n\n  ngOnInit() {\n    // Выделение персонажа по переданному id\n    this._route.params\n      .subscribe(\n        (params: Params) => this.selectedId = Number(params[\"id\"])\n      );\n    // Если не было загрузки данных, загрузить их и поместить в хранилище\n    if(!this._characterService.dataIsLoaded){\n      this._characterService.getCharacters().subscribe(characters => \n        this._store.dispatch({type: INIT_CHARACTERS, payload: characters})\n      )\n    }\n    this.errorMessage = null;\n  }\n\n  private newCharacter(){\n    this._router.navigate(['/character']);\n  }\n\n  private selectCharacter(character: Character){\n    this.selectedCharacter = character;\n    this._router.navigate(['/character', character.id]);\n  }\n\n  private isSelected(character: Character) {\n    return character.id === this.selectedId; \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/character/character-list/character-list.component.ts","import { ActionReducer, Action } from \"@ngrx/store\";\r\nimport { Character } from './character.service';\r\nimport { Observable } from \"rxjs/Observable\";\r\n\r\n/*\r\n  Action Constants\r\n*/\r\nexport const INIT_CHARACTERS = 'INIT_CHARACTERS';\r\nexport const ADD_CHARACTER = 'ADD_CHARACTER';\r\nexport const REMOVE_CHARACTER = 'REMOVE_CHARACTER';\r\nexport const UPDATE_CHARACTER = 'UPDATE_CHARACTER';\r\n/*\r\n    Reducer for store of characters\r\n*/\r\nexport function characterReducer(state: Character[] = [], action: Action){\r\n    let character: Character = action.payload && action.payload.id ? action.payload : undefined;\r\n    switch(action.type){\r\n      case 'INIT_CHARACTERS':\r\n        // принимает массив, в отличие от остальных вызовов\r\n        console.log('Characters initialized...')\r\n        return action.payload;  \r\n      case 'ADD_CHARACTER':\r\n        return character ? [ ...state, character ] : state;\r\n      case 'REMOVE_CHARACTER':\r\n        return character ? state.filter(item => item.id !== character.id) : state;\r\n      case 'UPDATE_CHARACTER':\r\n        return character ? state.map(c => c.id !== character.id ? c : character) : state;\r\n      default:\r\n        return state;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/character/character.reducer.ts","import { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\n//import { MockBackend } from \"@angular/http/testing\";\nimport { AppMocks } from '../app.mocks';\nimport { Observable } from \"rxjs/Observable\";\nimport { Vehicle } from \"app/vehicle/vehicle.service\";\n\n@Injectable()\nexport class CharacterService {\n\n  private realApi = 'assets/api/characters.json';\n  private mockApi = AppMocks.CHARACTER_API;\n  public dataIsLoaded = false;\n\n  constructor(private _http: Http) { }\n\n  public getCharacters(): Observable<Character[]>{\n    return this._http.get(this.realApi)\n      .map(response => { \n        this.dataIsLoaded = true;\n        return response.json().data;\n      })\n      .catch(this.handleError);\n  } \n\n  public getCharacters_(): Observable<Character[]>{\n    return Observable.of(this.mockApi.data);\n  }\n\n  private handleError(error: Response | any) {\n    let errMsg: string;\n    this.dataIsLoaded = false;\n    if (error instanceof Response) {\n      errMsg = `${error.status} - ${error.statusText || ''}`;\n    } else {\n      errMsg = error.message ? error.message : error.toString();\n    }\n    console.error(errMsg);\n    return Observable.throw(errMsg);\n  }\n}\n\nexport class Character {\n  constructor(public id: number, public name: string, public vehicle?: Vehicle) { \n    console.log('new character created...');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/character/character.service.ts","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Vehicle, VehicleService} from '../vehicle.service';\r\nimport { INIT_VEHICLES, ADD_VEHICLE, REMOVE_VEHICLE, UPDATE_VEHICLE } from '../vehicle.reducer';\r\nimport { VehicleComponent } from '../vehicle/vehicle.component';\r\nimport { Router, ActivatedRoute, Params } from \"@angular/router\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { AppState } from \"../../app.state\";\r\n\r\n@Component({\r\n  selector: 'app-vehicle-list',\r\n  templateUrl: './vehicle-list.component.html',\r\n  //styleUrls: ['./vehicle-list.component.css']\r\n})\r\nexport class VehicleListComponent implements OnInit {\r\n  \r\n  private errorMessage: \"not Initilized\";\r\n  private selectedVehicle: Vehicle;\r\n  private selectedId: number;\r\n  private vehicles: Observable<Vehicle[]>;\r\n\r\n  constructor(\r\n    private _vehicleService: VehicleService,\r\n    private _router: Router,\r\n    private _route: ActivatedRoute,\r\n    private _store: Store<AppState>\r\n  ) {\r\n    this.vehicles = _store.select('vehicles');\r\n  }\r\n\r\n  ngOnInit() {\r\n    // Выделение персонажа по переданному id\r\n    this._route.params\r\n      .subscribe((params: Params) => this.selectedId = Number(params[\"id\"]))\r\n    // Если не было загрузки данных, загрузить их и поместить в хранилище\r\n    if(!this._vehicleService.dataIsLoaded){\r\n      this._vehicleService.getVehicles().subscribe(vehicles =>\r\n        this._store.dispatch({type: INIT_VEHICLES, payload: vehicles})\r\n      )\r\n    }\r\n    this.errorMessage = null;\r\n  }\r\n  \r\n  newVehicle(){\r\n    this._router.navigate(['/vehicle'])\r\n  }\r\n\r\n  selectVehicle(vehicle:Vehicle){\r\n    this.selectedVehicle = vehicle;\r\n    this._router.navigate(['/vehicle', vehicle.id])\r\n  }\r\n\r\n  isSelected(vehicle: Vehicle) {\r\n    return vehicle.id === this.selectedId; \r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/vehicle/vehicle-list/vehicle-list.component.ts","import { ActionReducer, Action } from \"@ngrx/store\";\r\nimport { Vehicle } from './vehicle.service';\r\n\r\n/*\r\n  Action Constants\r\n*/\r\nexport const INIT_VEHICLES = 'INIT_VEHICLES';\r\nexport const ADD_VEHICLE = 'ADD_VEHICLE';\r\nexport const REMOVE_VEHICLE = 'REMOVE_VEHICLE';\r\nexport const UPDATE_VEHICLE = 'UPDATE_VEHICLE';\r\n\r\n/*\r\n    Reducer for store of vehicles\r\n*/\r\nexport function vehiclesReducer (state: Vehicle[] = [], action: Action){\r\n    switch(action.type){\r\n      case 'INIT_VEHICLES':\r\n        console.log('Vehicles initialized...')\r\n        return action.payload;  \r\n      case 'ADD_VEHICLE':\r\n        return [ ...state, action.payload ];\r\n      case 'REMOVE_VEHICLE':\r\n        return state.filter(v => v.id !== action.payload.id);\r\n      case 'UPDATE_VEHICLE':\r\n        return state.map(v => v.id !== action.payload.id ? v : action.payload);\r\n      default:\r\n        return state;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/vehicle/vehicle.reducer.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from \"@angular/http\";\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/Rx';\r\n\r\n\r\n@Injectable()\r\nexport class VehicleService {\r\n  \r\n  private realApi = 'assets/api/vehicles.json';\r\n  public dataIsLoaded = false;\r\n\r\n  constructor(private _http: Http) { }\r\n  \r\n  getVehicles(): Observable<Vehicle[]>{\r\n    return this._http.get(this.realApi)\r\n      .map(response => { \r\n        this.dataIsLoaded = true; \r\n        return <Vehicle[]>response.json().data;\r\n      })\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  private handleError(error: Response | any) {\r\n    let errMsg: string;\r\n    this.dataIsLoaded = false;\r\n    if (error instanceof Response) {\r\n      errMsg = `${error.status} - ${error.statusText || ''}`;\r\n    } else {\r\n      errMsg = error.message ? error.message : error.toString();\r\n    }\r\n    console.error(errMsg);\r\n    return Observable.throw(errMsg);\r\n  }\r\n}\r\n\r\nexport class Vehicle {\r\n  constructor(public id: number, public name: string, characterId?) { }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/vehicle/vehicle.service.ts"],"sourceRoot":""}